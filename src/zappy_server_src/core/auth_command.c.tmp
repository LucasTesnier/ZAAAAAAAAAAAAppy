



#include "command_hold.h"
#include "rcodes.h"

_Bool command_logout(char *arg, player_list_t *player, server_data_t *serv)
{
    char *type = NULL;

    player->disconnected = TO_LOGOUT;
    if (player->type == AI)
        type = "AI";
    if (player->type == GUI)
        type = "GUI";
    if (player->type == UNKNOWN)
        type = "UNKNOWN";
    (void) arg;
    (void) serv;
    pop_message(player->player_peer);
    return print_retcode(202, type, player->player_peer, true);
}

_Bool command_login(char *arg, player_list_t *player, server_data_t *serv)
{
    char *type = NULL;

    if (!strncmp(arg, "GUI", 3)) {
        player->type = GUI;
        type = "GUI";
    }
    if (!strncmp(arg, "AI", 2)) {
        player->type = AI;
        type = "AI";
    }
    if (player->type == UNKNOWN)
        return print_retcode(402, arg, player->player_peer, false);
    player->is_auth = true;
    (void) serv;
    pop_message(player->player_peer);
    return print_retcode(201, type, player->player_peer, true);
}

